var e,n={message:'"subject" element is not valid',tip:"It should be a valid DOM (or shadow DOM) element"},t={message:'"eventName" is not valid',tip:'Please look into docs to find supported "eventName" values'},o={message:'"options" are not valid',tip:'Please look into docs to find supported "options" values'},s={message:"Selector is not valid",tip:"You should provide a non-empty selector string"},r={message:"Selector must be single",tip:"In case if you need multiple please chain it with .shadowFind() command"},i={message:"Selecting by alias is not supported",tip:"You must use only string-based selectors"},a={message:"Index number is not valid",tip:"It should be a positive or negative number within a range of collection"},u={message:"Text content is not valid",tip:"Text content is a string containing at least one symbol"},c=function(e){function n(t){for(var o=[],s=arguments.length-1;s-- >0;)o[s]=arguments[s+1];e.apply(this,o),e.captureStackTrace&&e.captureStackTrace(this,n),this.name="[cypress-shadow-dom error]",this.message=t.message+".\n"+t.tip}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n}(Error),d=function(e,n){if(!e||"object"!=typeof e)throw new c(o);Object.keys(e).forEach(function(e){if(!(e in n))throw new c(o)})},l=function(e){if(!e||"string"!=typeof e)throw new c(s);if(e.match(/(?<!".+)(\s)/g)||e.match(/(\s)(?!.+")/g))throw new c(r);if(-1!==e.indexOf("@"))throw new c(i)},p=function(e){if(!e)throw new c(n)},f=function(e){if(!e||"string"!=typeof e)throw new c(u)},m=function(e){if(!e||"string"!=typeof e)throw new c(t)},h=Object.freeze({timeout:4e3}),y=Object.freeze({force:!1,bubbles:!0,cancelable:!0,composed:!0}),g=Object.freeze({delay:10});function w(e,n,t){void 0===t&&(t={}),Cypress._.defaults(t,y),p(e),m(n),d(t,y),Cypress.log({name:"shadowTrigger",message:n,consoleProps:function(){return{eventName:n}}});var o=new CustomEvent(n,t);return e[0].dispatchEvent(o),e}function v(e,n){return void 0===n&&(n={}),Cypress.Promise.try(e).then(function(t){return Cypress.cy.verifyUpcomingAssertions(t,n,{onRetry:function(){return v(e,n)}})})}e={prevSubject:!0},Cypress.Commands.add("shadowClick",e,function(e,n){return w(e,"click",n)}),Cypress.Commands.add("shadowContains",e,function(e,n,t){return void 0===t&&(t={}),Cypress._.defaults(t,h),p(e),f(n),d(t,h),v(function(){var t=e[0].shadowRoot||e[0];return[t].concat(t.querySelectorAll("*")).find(function(e){return e&&RegExp(n,"i").test(e.innerText)})},t).then(function(e){return Cypress.log({name:"shadowContains",message:"'"+n+"'",consoleProps:function(){return{content:n,element:e}}}),e})}),Cypress.Commands.add("shadowEq",e,function(e,n,t){return void 0===t&&(t={}),Cypress._.defaults(t,h),p(e),function(e,t){if("number"!=typeof n||n<t[0]||n>t[1])throw new c(a)}(0,[-e.length,+e.length]),d(t,h),v(function(){return e[n<0?e.length+n:n]},t).then(function(e){return Cypress.log({name:"shadowEq",message:"':nth-child("+n+")'",consoleProps:function(){return{index:n,element:e}}}),e})}),Cypress.Commands.add("shadowFind",e,function(e,n,t){return void 0===t&&(t={}),Cypress._.defaults(t,h),p(e),l(n),d(t,h),v(function(){return(e[0].shadowRoot||e[0]).querySelectorAll(n)},t).then(function(e){return Cypress.log({name:"shadowFind",message:"'"+n+"'",consoleProps:function(){return{selector:n,foundElements:e}}}),e})}),Cypress.Commands.add("shadowFirst",e,function(e,n){return void 0===n&&(n={}),Cypress._.defaults(n,h),p(e),d(n,h),v(function(){return e[0]},n).then(function(e){return Cypress.log({name:"shadowFirst",consoleProps:function(){return{element:e}}}),e})}),Cypress.Commands.add("shadowGet",{prevSubject:!1},function(e,n){return void 0===n&&(n={}),Cypress._.defaults(n,h),l(e),d(n,h),v(function(){return Cypress.$(e)},n).then(function(n){return Cypress.log({name:"shadowGet",message:"'"+e+"'",consoleProps:function(){return{selector:e,element:n}}}),n})}),Cypress.Commands.add("shadowLast",e,function(e,n){return void 0===n&&(n={}),Cypress._.defaults(n,h),p(e),d(n,h),v(function(){return e[e.length-1]},n).then(function(e){return Cypress.log({name:"shadowLast",consoleProps:function(){return{element:e}}}),e})}),Cypress.Commands.add("shadowTrigger",e,w),Cypress.Commands.add("shadowType",e,function(e,n,t){void 0===t&&(t={}),Cypress._.defaults(t,g),p(e),f(n),d(t,g);var o=t.delay;return Cypress.cy.document({log:!1}).then(function(t){try{return Cypress.log({name:"shadowType",message:n,consoleProps:function(){return{text:n}}}),Promise.resolve(Cypress.Promise.all(n.split("").map(function(n){return new Promise(function(s){var r={key:n,code:n.charCodeAt(0)},i=new KeyboardEvent("keydown",r);t.dispatchEvent(i);var a=new KeyboardEvent("keydown",r);t.dispatchEvent(a);var u=new KeyboardEvent("keyup",r);t.dispatchEvent(u),e[0].value+=n;var c=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});e[0].dispatchEvent(c),setTimeout(s,o)})})).then(function(){return e}))}catch(e){return Promise.reject(e)}})});
//# sourceMappingURL=bundle.js.map
